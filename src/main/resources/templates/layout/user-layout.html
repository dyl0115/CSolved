<html th:fragment="user-template(user,title,content)" class="h-full bg-gray-50">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title th:replace="${title}">기본 타이틀</title>
        
        <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
        <script src="https://unpkg.com/lucide@latest"></script>
        <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.5/cdn.min.js"></script>
        <script src="/js/timeago.js"></script>
        
        <style>
            [x-cloak] {
                display: none !important;
            }
        </style>
    </head>
    <body class="h-full">
        <!-- 메인 컨테이너 -->
        <div class="min-h-screen flex flex-col bg-gray-100">
            <!-- 로고 + 프로필  -->
            <header class="bg-white shadow-sm">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between items-center h-16">
                        <!-- 로고 -->
                        <div th:replace="~{fragments/common/logo::logo}" class="flex-shrink-0"></div>
                        
                        <!-- 프로필 -->
                        <div th:replace="~{fragments/common/profile::user-profile(${user})}"
                             class="flex items-center"></div>
                    </div>
                </div>
            </header>
            
            <!-- 네비게이션 -->
            <nav class="bg-white border-b border-gray-200">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between h-12">
                        <div th:replace="~{fragments/common/nav::nav-bar}"
                             class="flex space-x-8"></div>
                    </div>
                </div>
            </nav>
            
            <!-- 메인 컨텐츠 -->
            <main class="flex-grow">
                <div class="max-w-7xl mx-auto pt-4 sm:px-6 lg:px-8">
                    <div class="px-4 sm:px-0">
                        <div th:replace="${content}"></div>
                    </div>
                </div>
            </main>
            
            <!-- 푸터 -->
            <footer th:replace="~{fragments/common/footer}"
                    class="bg-white border-t border-gray-200"></footer>
        </div>
        
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                lucide.createIcons();
            });
        </script>
    </body>
</html>